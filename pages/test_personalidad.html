<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Personalidad - Simula tu Futuro</title>
    <link rel="stylesheet" href="../css/test_personalidad.css">
</head>

<body>

    <header class="header">
        <div class="header-left">
            <h1 class="logo">Simula Tu Futuro</h1>
        </div>
        <div class="nav">
            <a href="../index.html" class="btn-logout">Cerrar SesiÃ³n</a>
        </div>
    </header>

    <div class="main-layout">
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>NavegaciÃ³n</h3>
                <a href="../index.html" class="sidebar-link">â† Inicio</a>
                <a href="dashboard.html" class="sidebar-link">ğŸ“Š Dashboard</a>
                <a href="perfil.html" class="sidebar-link">ğŸ‘¤ Mi Perfil</a>
                <a href="notificaciones.html" class="sidebar-link">ğŸ”” Notificaciones</a>
                <a href="mensajes.html" class="sidebar-link">ğŸ’¬ Mensajes</a>
            </div>
        </aside>

        <main class="content">
            <div id="test-container" class="test-box">
                <div class="progress-bar">
                    <div id="progress" class="progress-fill"></div>
                </div>

                <div id="question-area">
                    <span id="question-number">Pregunta 1 de 10</span>
                    <h2 id="question-text">Â¿Te sientes cÃ³modo siendo el centro de atenciÃ³n en un grupo?</h2>

                    <div class="options">
                        <button class="btn-option" onclick="answer(2)">Muy de acuerdo</button>
                        <button class="btn-option" onclick="answer(1)">Algo de acuerdo</button>
                        <button class="btn-option" onclick="answer(0)">En desacuerdo</button>
                    </div>
                </div>

                <div id="result-area" style="display: none;">
                    <div class="icon-result">ğŸ§ </div>
                    <h2>Tu Rasgo Predominante:</h2>
                    <div id="top-trait" class="trait-badge">Cargando...</div>
                    <p id="trait-desc"></p>
                    <div class="result-actions">
                        <button class="btn-primary-action" onclick="location.reload()">Repetir</button>
                        <button class="btn-outline-action" onclick="location.href='dashboard.html'">Finalizar</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const questions = [
            { text: "Â¿Te resulta fÃ¡cil hacer nuevos amigos y socializar?", cat: "E" },
            { text: "Â¿Prefieres trabajar en equipo antes que solo?", cat: "E" },
            { text: "Â¿Sueles planificar tus actividades con mucho detalle?", cat: "O" },
            { text: "Â¿Te consideras una persona muy ordenada y puntual?", cat: "O" },
            { text: "Â¿Te interesa aprender sobre temas abstractos o teÃ³ricos?", cat: "A" },
            { text: "Â¿Disfrutas con el arte, la mÃºsica o la literatura profunda?", cat: "A" },
            { text: "Â¿Sueles mantener la calma incluso bajo mucha presiÃ³n?", cat: "E_E" },
            { text: "Â¿Te recuperas rÃ¡pido despuÃ©s de un fracaso o error?", cat: "E_E" },
            { text: "Â¿Te pones fÃ¡cilmente en el lugar de los demÃ¡s?", cat: "E_M" },
            { text: "Â¿Te gusta ayudar a otros aunque no recibas nada a cambio?", cat: "E_M" }
        ];

        let currentQ = 0;
        let scores = { E: 0, O: 0, A: 0, E_E: 0, E_M: 0 };

        const descriptions = {
            E: "ExtroversiÃ³n: Eres una persona sociable y con energÃ­a. Te destacarÃ­as en Ã¡reas de liderazgo, ventas, relaciones pÃºblicas o docencia.",
            O: "OrganizaciÃ³n: Eres metÃ³dico y responsable. Te irÃ­a muy bien en carreras de administraciÃ³n, ingenierÃ­a, leyes o ciencias de datos.",
            A: "Apertura: Eres curioso y creativo. Carreras ideales para ti incluyen arquitectura, diseÃ±o, artes o investigaciÃ³n cientÃ­fica.",
            E_E: "Estabilidad Emocional: Eres resiliente y mantienes la cabeza frÃ­a. Ideal para medicina de urgencias, pilotaje o fuerzas de seguridad.",
            E_M: "EmpatÃ­a: Tienes una gran conexiÃ³n con los sentimientos de otros. Carreras sugeridas: PsicologÃ­a, Trabajo Social, EnfermerÃ­a o Veterinaria."
        };

        function answer(points) {
            let category = questions[currentQ].cat;
            scores[category] += points;
            currentQ++;
            if (currentQ < questions.length) { updateQuestion(); }
            else { showResult(); }
        }

        function updateQuestion() {
            document.getElementById('question-number').innerText = `Pregunta ${currentQ + 1} de ${questions.length}`;
            document.getElementById('question-text').innerText = questions[currentQ].text;
            document.getElementById('progress').style.width = `${(currentQ / questions.length) * 100}%`;
        }

        function showResult() {
            document.getElementById('question-area').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            document.getElementById('progress').style.width = `100%`;

            let top = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            const traitNames = { E: "Extrovertido", O: "Organizado", A: "Creativo/Abierto", E_E: "Resiliente", E_M: "EmpÃ¡tico" };

            document.getElementById('top-trait').innerText = traitNames[top];
            document.getElementById('trait-desc').innerText = descriptions[top];
        }
    </script>
</body>

</html>